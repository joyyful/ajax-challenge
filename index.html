<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bass-o-Matic Review</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/main.css">
</head>

<body>
<main class="container-fluid" ng-app='ReviewPage' ng-controller='CommentsController'>

    <section>
        <div class='row' id='product'>
            <div class='col-md-2'>
                <img src="img/super-bass-o-matic-76.jpg" alt="Bass-o-Matic '76" class="productPic">
            </div>

            <div class='col-md-10'>
                <h1>The Super Bass-o-Matic '76</h1>
                <p>Candy bonbon pastry jujubes lollipop wafer biscuit biscuit. Topping brownie sesame snaps sweet
                    roll pie. Croissant danish biscuit soufflé caramels jujubes jelly. Dragée danish caramels lemon
                    drops dragée. Gummi bears cupcake biscuit tiramisu sugar plum pastry. Dragée gummies applicake
                    pudding liquorice. Donut jujubes oat cake jelly-o. Dessert bear claw chocolate cake gummies
                    lollipop sugar plum ice cream gummies cheesecake.</p>
            </div>
        </div>
    </section>

    <section>
        <h2 id='title'>Add a Review</h2>

        <form ng-submit='addComment()'>
            <div class='row'>
                <div class='col-md-12'>
                    <label>Name</label>
                    <input type="text" id="reviewName" class="form-control" ng-model='newReview.name'/>
                </div>
            </div>

            <br>
            <div class='row'>
                <div class='col-md-3'>
                    <label>Review Title</label>
                    <input type="text" id="reviewTitle" class="form-control" ng-model='newReview.title'/>
                </div>

                <div class='col-md-7'>
                    <label for="reviewComment">Comment</label>
                    <input type="text" id="reviewComment" class="form-control" ng-model='newReview.body'/>
                </div>

                <div class='col-md-2'>
                    <label>Rating</label><br>
                    <rating max="5" ng-model="newReview.rating"></rating>
                </div>
            </div>

            <br>
            <div class='row'>
                <div id="submit">
                    <button type="submit" class="btn btn-primary" ng-disabled="inserting">Submit</button>
                </div>
            </div>
        </form>
    </section>

    <section>
        <h2 id='title'>Past Reviews</h2>

        <table class="table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Rating</th>
                    <th>Score</th>
                    <th>Title</th>
                    <th>Review</th>
                    <th>Delete</th>
                </tr>
            </thead>

            <tbody>
                <tr ng-repeat='review in reviews' ng-class='{deleted: review.deleted}'>
                    <td>{{review.name}}</td>

                    <td /><rating max="5" ng-model="review.rating" readonly="true"></rating></td>

                    <td>
                        {{review.score || 0}}
                        <span class="glyphicon glyphicon-thumbs-up" ng-click="incrementVotes(review, 1)"></span>
                        <span class="glyphicon glyphicon-thumbs-down" ng-click="incrementVotes(review, -1)"></span>
                    </td>

                    <td>{{review.title}}</td>

                    <td>{{review.body}}</td>

                    <td><input type="checkbox" ng-model='review.deleted' ng-change='updateReview(review)'/></td>
                </tr>

                <tr id='noComments'>
                    <td>No comments yet. Be the first to review!</td>
                </tr>
            </tbody>
        </table>

        <div class='row'>
            <div id="refresh">
                <button class="btn btn-primary" ng-click='refreshReviews()'>Refresh</button>
            </div>
        </div>
    </section>
</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.2/angular.min.js"></script>
<script src="lib/ui-bootstrap-tpls-0.11.0.min.js"></script>
<script src="js/app.js"></script>
</body>
</html>